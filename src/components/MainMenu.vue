<template>
    <div class="nav-bar p-3 shadow background-red">
        <div class="text-center w-100 py-2">
            <svg xmlns="http://www.w3.org/2000/svg" 
                xml:space="preserve" 
                width="40px" height="40px" version="1.1" 
                style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                viewBox="0 0 355.58 355.58"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <g>
                    <path class="fill-white" d="M111.44 283.02l201.66 0.73 27.51 33.3 -0.06 -255.11c0,-10.44 -4.28,-19.95 -11.15,-26.82 -6.89,-6.89 -16.42,-11.19 -26.85,-11.21l-59.45 -0.13c-68.98,-0.14 -137.98,-0.3 -220.77,-0.3 -2.02,0 -3.87,0.83 -5.19,2.15 -1.32,1.32 -2.15,3.17 -2.15,5.19 0,2.01 0.84,3.86 2.16,5.18 1.32,1.32 3.17,2.16 5.18,2.16l59.21 0 -0.08 214.89c0.02,8.22 3.39,15.71 8.8,21.12 5.44,5.44 12.96,8.83 21.18,8.85zm41.48 -188.34l24.64 0 0 48.54 -24.64 0 0 -48.54zm0 80.81l0 24.63 57.54 24.17 57.58 -24.54 0 -24.64 -57.59 25.01 -57.53 -24.63zm66.63 -32.28l0 -24.63 24.26 -24.18 24.27 24.55 0 24.64 -24.28 -25.01 -24.25 24.63zm89.52 148.96l-197.63 -0.71c-10.57,-0.03 -20.21,-4.36 -27.16,-11.31 -6.95,-6.95 -11.28,-16.55 -11.28,-27.1l0.07 -136.56c-0.68,1.63 -1.6,3.11 -2.7,4.38 -2.6,3 -6.25,4.89 -10.27,4.89l-5.05 0c-4.02,0 -7.67,-1.89 -10.28,-4.9 -2.44,-2.82 -4,-6.72 -4,-10.93 0,-4.21 1.54,-8.1 4,-10.94 2.6,-3 6.25,-4.88 10.28,-4.88l5.05 0c4.03,0 7.68,1.88 10.27,4.88 1.1,1.27 2.02,2.76 2.7,4.39l0.01 -27.59c-0.68,1.64 -1.6,3.13 -2.71,4.41 -2.6,3 -6.25,4.89 -10.27,4.89l-24.03 0c-4.03,0 -7.68,-1.88 -10.28,-4.87 -2.46,-2.86 -4,-6.74 -4,-10.95 0,-4.21 1.54,-8.1 4,-10.94 2.6,-3 6.25,-4.88 10.28,-4.88l24.03 0c4.03,0 7.68,1.88 10.27,4.88 1.11,1.28 2.03,2.78 2.71,4.42l0.01 -16.11 -50.76 0c-4.32,0 -8.3,-1.8 -11.16,-4.66 -2.86,-2.86 -4.66,-6.82 -4.66,-11.16 0,-4.34 1.78,-8.3 4.65,-11.17 2.87,-2.87 6.83,-4.65 11.17,-4.65l280.22 0.47c12.78,0.03 24.42,5.26 32.83,13.67 8.41,8.41 13.65,20.03 13.65,32.8l0.03 278.63 -39.99 -48.4zm-248.97 -189.58l-5.05 0c-1.48,0 -2.88,0.74 -3.9,1.92 -1.17,1.35 -1.9,3.28 -1.9,5.42 0,2.14 0.74,4.07 1.9,5.41 1.03,1.19 2.43,1.94 3.9,1.94l5.05 0c1.47,0 2.87,-0.75 3.89,-1.93 1.16,-1.34 1.9,-3.28 1.9,-5.42 0,-2.15 -0.73,-4.07 -1.9,-5.42 -1.01,-1.18 -2.41,-1.92 -3.89,-1.92zm0 -40.66l-24.03 0c-1.48,0 -2.88,0.74 -3.9,1.92 -1.17,1.35 -1.9,3.28 -1.9,5.42 0,2.13 0.74,4.06 1.89,5.4 1.05,1.18 2.44,1.94 3.91,1.94l24.03 0c1.47,0 2.87,-0.75 3.89,-1.93 1.16,-1.34 1.9,-3.27 1.9,-5.41 0,-2.15 -0.73,-4.07 -1.9,-5.42 -1.01,-1.18 -2.41,-1.92 -3.89,-1.92z"/>
                </g>
            </svg>
        </div>
        <ul class="nav flex-column text-center">
            <li class="nav-item popover__wrapper" v-for="menu in listMenu" :key="menu">
                <a class="nav-link text-white" @click="changePage(menu.slug, menu.id)" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" 
                        width="30px" height="30px" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
                        viewBox="0 0 253.98 253.98"
                        xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g>
                            <path v-bind:ref="'item_'+menu.id" :class="[menu.active ? 'active' : '']" class="icon active" :d="menu.d"/>
                        </g>
                    </svg>
                    <div class="popover__content p-2 shadow">
                        <p class="popover__message color-red pt-2">{{ menu.name }}</p>
                    </div>
                </a>
            </li>
        </ul>
    </div>

</template>

<script>

export default {
    name: "MainMenu",
    data() {
        return {
            activeIcon:"item_1",
            listMenu: [
                {
                    id:1,
                    active: true,
                    name:"Clientes",
                    slug:"clients",
                    icon:"clientsIcon",
                    d:   "M126.78 104.53c12.23,0 22.15,9.92 22.15,22.15 0,12.24 -9.92,22.15 -22.15,22.15 -12.24,0 -22.15,-9.91 -22.15,-22.15 0,-12.23 9.91,-22.15 22.15,-22.15zm26.6 -81.61c-8.4,3.45 -17.34,9.03 -26.71,16.32 -9.36,-7.29 -18.3,-12.87 -26.71,-16.32 -21.94,-7.14 -39.1,-0.43 -47.26,21.34 -4.39,11.7 -4.26,24.84 -2.48,38.51l0.08 0.5c-10.83,4.43 -20.01,9.32 -27.11,14.82 -17.15,15.43 -19.92,33.65 -5.15,51.6 7.94,9.65 19.38,16.11 32.11,21.4l0.17 0.07c-3,19.9 -1.37,43.28 12.9,56.18 8.91,6.6 19.56,7.61 30.02,5.41 12.28,-2.57 24.29,-9.55 32.94,-17.07l0.49 -0.42 0.5 0.42c8.64,7.52 20.66,14.5 32.93,17.07 10.47,2.2 21.12,1.19 30.03,-5.41 14.26,-12.9 15.9,-36.28 12.9,-56.19l0.7 -0.24c10.83,-3.73 22.89,-10.65 31.25,-19.99 7.14,-7.96 11.59,-17.69 10.33,-28.71 -4.05,-18.8 -23.47,-31.91 -42.21,-39.26l0.03 -0.18c1.78,-13.67 1.9,-26.81 -2.48,-38.51 -8.16,-21.77 -25.33,-28.48 -47.27,-21.34zm-39.54 27.11l-0.1 0.09c-6.64,7.04 -12.85,14.43 -18.63,22.19 -9.56,1.12 -19.01,2.8 -28.37,5.01 -1.69,-13.81 -1.47,-31.94 8.35,-38.08 13.37,-5.68 26.16,0.69 38.75,10.79zm-31.65 41.37c-2.97,4.86 -5.79,9.84 -8.47,14.95 -1.35,-3.95 -2.58,-7.95 -3.65,-12.01 4.01,-1.1 8.05,-2.08 12.12,-2.94zm-18.83 37.16c-3.42,8.27 -6.49,16.83 -9.22,25.69 -12.88,-5.41 -28.84,-14.75 -29.25,-26.46 1.76,-14.43 13.68,-22.32 28.74,-28.17 2.47,9.95 5.72,19.6 9.73,28.94zm75.55 75.26c6.73,-6.83 13.15,-14.26 19.26,-22.27 9.8,-1.27 19.28,-3.06 28.4,-5.41 2.07,13.35 4.27,28.86 -7.33,38.76 -14.72,7.09 -28.76,-1.7 -40.33,-11.08zm31.85 -40.16c3.1,-4.79 6.12,-9.73 9.05,-14.83l0.59 -1.01c1.22,4.05 2.29,8.19 3.23,12.41 -4.26,1.3 -8.55,2.45 -12.87,3.43zm19.23 -35.1c3.98,-9.26 7.2,-18.82 9.67,-28.68 12.49,4.84 26.69,10.73 29.43,25.54 -1.22,16.28 -15.83,24.04 -29.72,29.37 -2.76,-9.04 -5.89,-17.79 -9.38,-26.23zm-28.83 19.5c3.69,-7.27 7.29,-14.57 10.6,-21.98l-0.29 -0.56c-6.54,-13.65 -14.05,-26.33 -22.58,-38.01l-1.09 -0.05c-14.9,-1.15 -29.46,-1 -43.67,0.49 -8.39,11.56 -15.79,24.09 -22.25,37.57l-0.29 0.56c3.31,7.41 6.91,14.71 10.6,21.98 3.06,6.12 6.51,11.92 10.3,17.43 8.35,0.89 16.76,1.44 25.19,1.9 7.46,0.45 14.83,0.3 22.11,-0.37 4.22,-5.96 8.03,-12.27 11.37,-18.96zm18.46 -41.71c1.39,-4.03 2.64,-8.11 3.72,-12.25 -4.21,-1.31 -8.42,-2.46 -12.63,-3.42 3.13,5.08 6.1,10.31 8.91,15.67zm6.93 -28.55c1.75,-13.86 1.64,-32.35 -8.29,-38.56 -13.38,-5.68 -26.16,0.69 -38.76,10.79l0.1 0.09c6.78,7.19 13.12,14.74 19.01,22.68 9.22,1.19 18.54,2.85 27.94,5zm-59.88 -16.13c-2.95,2.92 -5.81,5.92 -8.58,9.01 5.73,-0.15 11.49,-0.1 17.29,0.14 -2.81,-3.14 -5.71,-6.19 -8.71,-9.15zm-53.72 86.15c-1.16,3.85 -2.19,7.79 -3.1,11.8 3.96,1.08 7.94,2.01 11.94,2.8 -2.82,-4.4 -5.57,-8.93 -8.26,-13.59l-0.58 -1.01zm-6.25 28.82c-2.05,13.24 -4.05,28.49 7.4,38.26 14.73,7.09 28.77,-1.7 40.34,-11.08 -6.45,-6.54 -12.61,-13.64 -18.5,-21.26 -9.86,-1.2 -19.61,-3.17 -29.24,-5.92zm59.97 16.58c3.37,-3.13 6.61,-6.37 9.72,-9.72 -5.7,0.3 -11.49,0.44 -17.37,0.43 -0.55,0 -1.11,0 -1.67,0 2.99,3.2 6.1,6.29 9.32,9.29z"
                },
                {
                    id:2,
                    active: false,
                    name:"Perfis",
                    slug:"profiles",
                    icon:"profilesIcon",
                    d:   "M43.53 198.35l0 36.12 166.92 0 0 -36.14c-2.44,-6.31 -2.09,-26.42 -18.57,-45.6 -8.68,-10.1 -24.32,-24.37 -37.07,-26.29 -3.28,3.02 -22.64,30.37 -27.82,36.34 -4.75,-5.68 -9.46,-12.31 -13.83,-18.16l-13.99 -18.18c-18.56,2.81 -41.52,27.8 -49.24,47.03 -5.52,13.75 -4.61,20.28 -6.4,24.88zm89.32 -178.85l-11.12 0c-5.94,2.35 -11.82,2.15 -18.56,5.71 -46.97,24.73 -31.71,97.72 22.97,98.42 54.09,0.7 73.18,-70.51 25.77,-97.85 -7.03,-4.05 -12.86,-3.71 -19.06,-6.28z"
                },
                {
                    id:3,
                    active: false,
                    name:"Estatíticas",
                    slug:"stats",
                    icon:"statsIcon",
                    d:   "M84.79 197.54l84.8 0 -21.03 -37.31 -42.74 0 -21.03 37.31zm-2.03 -174.34l88.86 0c4.85,0 8.82,3.97 8.82,8.82l0 0c0,4.85 -3.97,8.82 -8.82,8.82l-8.82 0 0 76.65c19,33.24 37.99,66.48 56.98,99.72 1.57,9.18 -2.47,13.09 -10.17,13.57 -55.62,0 -111.25,0 -166.87,0 -7.49,-0.95 -9.24,-6.4 -8.82,-13.57 19.22,-33.24 38.44,-66.48 57.66,-99.72l0 -76.65 -8.82 0c-4.85,0 -8.82,-3.97 -8.82,-8.82l0 0c0,-4.85 3.97,-8.82 8.82,-8.82zm61.73 17.64l-34.6 0 0 87.51c-15.6,26.9 -31.2,53.81 -46.8,80.72 42.51,0 85.02,0 127.53,0 -15.38,-26.68 -30.76,-53.36 -46.13,-80.04l0 -88.19z"
                },
                {
                    id:4,
                    active: false,
                    name:"Configurações",
                    slug:"config",
                    icon:"configIcon",
                    d:   "M130.29 172.1c-15.76,0 -24.61,-2.48 -36.12,-13.87 -21.2,-20.99 -14.75,-57.97 12.13,-71.69 17.62,-8.99 38.74,-5.41 53.41,9.2 16.61,16.54 16.62,45.72 0.31,62.2 -3.8,3.83 -7.45,6.8 -12.46,9.48 -3.75,2.02 -11.79,4.68 -17.27,4.68zm11.58 71.92l-27.71 0c-13.5,-0.84 -13.29,-5.47 -16.36,-26.64 -0.42,-2.89 -1.57,-8.66 -1.64,-11.76 -2.61,-0.22 -9.34,-3.93 -11.78,-5.29 -14.87,-8.24 -3.34,-9.97 -29.15,0.33 -6.79,2.71 -12.57,5.99 -19.53,0.81 -2.91,-2.17 -7.9,-11.81 -10.28,-15.93 -2.37,-4.12 -8.5,-13.09 -8.5,-17.71 0,-5.14 0.71,-7.46 4.4,-10.83 2.65,-2.42 20.03,-16.12 21.81,-16.6l0 -26.82c-1.92,-0.51 -2.49,-1.49 -4.01,-2.7 -1.52,-1.22 -2.17,-1.79 -3.74,-2.96l-14.37 -11.23c-2.19,-2.08 -4.09,-4.71 -4.09,-8.71 0,-6.43 1.08,-6.46 3.84,-11.39 1.64,-2.94 3.11,-5.46 4.66,-8.15 9.9,-17.19 10.49,-22.84 29.81,-15.12 23.76,9.5 14.54,9.26 29.22,0.4 2.91,-1.75 8.23,-4.55 11.71,-5.36l3.39 -24.04c1.03,-7.22 4.02,-14.36 12.46,-14.36l29.86 0c3.38,0 6.22,1.76 8.1,3.48 1.79,1.64 3.12,4.33 3.75,7.23 0.68,3.15 0.97,6.82 1.38,9.59 2.98,20.49 0.69,16.61 7.51,19.92 1.23,0.6 2.43,1.23 3.65,1.83l13.4 8.54c8.41,0 27.27,-16.48 38.52,-8.04 3.09,2.31 12.56,19.97 15.16,24.47 1.5,2.61 3.62,5.06 3.62,9.17 0,4.87 -0.92,7.6 -4.4,10.84 -2.55,2.39 -20.08,16.13 -21.81,16.59 0,3.48 0.61,4.22 0.61,7.92l0 10.98c0,3.7 -0.61,4.44 -0.61,7.92l22.11 16.91c9.87,8.96 -0.2,20.37 -4.43,28.2 -1.55,2.86 -3.34,5.66 -4.88,8.53 -7.04,13.12 -13.07,11.35 -24.9,6.62 -23.48,-9.39 -16.36,-8.64 -25.8,-2.46 -2.3,1.5 -4.4,2.68 -7,3.97 -0.95,0.47 -7.32,3.4 -7.46,3.51 -0.76,0.65 -0.6,0.08 -1.07,1.98l-0.92 7c-1.66,11.75 -1.29,29.36 -14.53,29.36z"
                },
            ]
        }
    },
    methods: {
        changePage: function(to, id) {
            this.$emit("changePage", to)
            this.$refs[this.activeIcon].classList.remove('active');
            this.activeIcon = "item_"+id;
            this.$refs[this.activeIcon].classList.add('active');
        }
    },
}

</script>

<style scoped>
    .nav-bar {
        border-radius: 100px;
    }
    .nav-link .icon {
        fill:#FFB8BE;
    }
    .nav-link:hover .icon{
        fill:white;
    }
    .icon.active{
        fill:white;
    }
    .popover__wrapper:hover .popover__content {
        z-index: 10;
        opacity: 1;
        visibility: visible;
        transform: translate(235px, -50px);
        transition: all 0.2s;
    }
    .popover__content {
        opacity: 0;
        visibility: hidden;
        position: absolute;
        left: -150px;
        transform: translate(0, 10px);
        background-color: white;
        width: auto;
        border-radius: 20px;
    }
    .popover__content:before {
        position: absolute;
        z-index: -1;
        content: "";
        left: -8px;
        top: calc(50% - 10px);
        border-style: solid;
        border-width: 0 10px 10px 10px;
        border-color: transparent transparent white transparent ;
        transition-duration: 0.5s;
        transition-property: transform;
    }
</style>